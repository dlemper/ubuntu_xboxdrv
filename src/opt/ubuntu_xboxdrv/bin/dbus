#!/usr/bin/python
import dbus
import sys

bus = dbus.SessionBus()
notify = bus.get_object('org.freedesktop.Notifications', '/org/freedesktop/Notifications')
method = notify.get_dbus_method('Notify', 'org.freedesktop.Notifications')

if len(sys.argv) > 2:
  action = sys.argv[1]
  device = sys.argv[2]
  if "connected" == action:
    msg = "New joystick connected to {0}".format(device)
  else:
    msg = "Joystick disconnected from {0}".format(device)
  method("ubuntu-xboxdrv", 0, "jstest-gtk", "Joysticks", msg, [], [], -1)
else:
  str("Invalid arguments")
